<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Simon Ramsay</title>
    <description>A personal blog about shitty infrequent random programing tips</description>
    <link>https://ramsay.xyz/</link>
    <atom:link href="https://ramsay.xyz/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 26 Nov 2018 02:20:15 -0600</pubDate>
    <lastBuildDate>Mon, 26 Nov 2018 02:20:15 -0600</lastBuildDate>
    <generator>Jekyll v3.8.4</generator>
    
      <item>
        <title>An Implementation of Set (Card Game) in Typescript</title>
        <description>&lt;p&gt;Published my code over at &lt;a href=&quot;https://github.com/nexus-uw/set&quot;&gt;nexus-uw/set&lt;/a&gt; with a README explaining what this is and how to run it.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/8/8f/Set-game-cards.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Sun, 25 Nov 2018 00:00:00 -0600</pubDate>
        <link>https://ramsay.xyz/2018/11/25/created-set-in-typescript.html</link>
        <guid isPermaLink="true">https://ramsay.xyz/2018/11/25/created-set-in-typescript.html</guid>
        
        <category>typescript</category>
        
        <category>game</category>
        
        <category>set</category>
        
        <category>peter is way too good at this game</category>
        
        
      </item>
    
      <item>
        <title>How to Secure Elasticsearch With Caddyserver</title>
        <description>&lt;p&gt;By default, Elasticsearch does not supprot authentication since user management and such are part of the propertairy X-pack addon (gotta find some cash to cover that IPO).&lt;/p&gt;

&lt;p&gt;BUT we can work around this with Caddyserver. For this exmaple, docker-compose can set up our Elasticsearch box:&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;3.2'&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;services&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;  
  &lt;span class=&quot;na&quot;&gt;caddy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;abiosoft/caddy&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;links&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;elasticsearch&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./Caddyfile:/etc/Caddyfile&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;80:80&lt;/span&gt;
        &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;443:443&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;--agree --conf  &quot;/etc/Caddyfile&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;elasticsearch&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;docker.elastic.co/elasticsearch/elasticsearch:6.4.0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The caddy file will provide basic HTTP Auth and HTTPS to protect our elasticsearch container with the following caddyfile&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;https://somepublicurl.com {
  tls some@email.com
  proxy / elasticsearch:9200
  basicauth / the_sun_god_emporer wow_this_would_make_a_great_password_dont_tell_anyone
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then to send some data from a remote machine, the sample fluentd config file shows the config needed:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&amp;lt;match something.**&amp;gt;
  @type elasticsearch
  host somepublicurl.com
  port 443
  user the_sun_god_emporer
  password wow_this_would_make_a_great_password_dont_tell_anyone
  scheme https
  ssl_version TLSv1_2
  include_timestamp true
  index_name some_index_name
&amp;lt;/match&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;note: the following fluentd log message&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; [warn]: #0 Could not connect Elasticsearch. Assuming Elasticsearch 5.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is an understatment. This should be considered a &lt;strong&gt;fatal&lt;/strong&gt;. It means your config is crap.
Adding with_transporter_log true to your &amp;lt; match &amp;gt; section will explain why it is not working.&lt;/p&gt;

&lt;p&gt;This setup can be pretty handy for self hosting Elasticsearch at home b/c Elasticsearch wants some heavy (for personal + seflhosted use) requirements for RAM + disk. by keeping this stuff at home, you dont have to spent ~$40 per month for an equalivent VPS.&lt;/p&gt;
</description>
        <pubDate>Sat, 13 Oct 2018 00:00:00 -0500</pubDate>
        <link>https://ramsay.xyz/2018/10/13/how-to-secure-elasticsearch-with-caddy.html</link>
        <guid isPermaLink="true">https://ramsay.xyz/2018/10/13/how-to-secure-elasticsearch-with-caddy.html</guid>
        
        <category>elasticsearch</category>
        
        <category>caddyserver</category>
        
        <category>docker</category>
        
        <category>fluentd</category>
        
        
      </item>
    
      <item>
        <title>Elasticsearch 400 Error When Upgrading Fluent Winston Log Message Format</title>
        <description>&lt;p&gt;Since it is now 2018, its time to upgrade nodejs logging from console logging to selfhosted&lt;/p&gt;

&lt;p&gt;My current choice is Elasticsearch + fluent + &lt;a href=&quot;https://github.com/fluent/fluent-logger-node&quot;&gt;fluent-logger-node&lt;/a&gt; + &lt;a href=&quot;https://github.com/winstonjs/winston&quot;&gt;winston&lt;/a&gt;.
When you are ready to implement something more complex to support custom kibana/grafana dashboards, you’ll need to upgrade from&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'currently have 1 active user'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'active-users'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You’ll probably see the following in your fluentd log:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;2018-10-12 02:17:57 -0400 [warn]: #0 dump an error event: error_class=Fluent::Plugin::ElasticsearchErrorHandler::ElasticsearchError error=&quot;400 - Rejected by Elasticsearch&quot; location=nil tag=&quot;memestream.club.8chan-worker&quot; time=1539325072 record={&quot;message&quot;=&amp;gt;{&quot;type&quot;=&amp;gt;&quot;active-users&quot;, &quot;count&quot;=&amp;gt;1}, &quot;level&quot;=&amp;gt;&quot;info&quot;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To fix this, you will have to re-create the index so that Elasticsearch will pick up on that the message field is a complex object rather that a string.&lt;/p&gt;
</description>
        <pubDate>Sat, 13 Oct 2018 00:00:00 -0500</pubDate>
        <link>https://ramsay.xyz/2018/10/13/elasticsearch-400-error-when-upgrading-fluent-winston-log-message-format.html</link>
        <guid isPermaLink="true">https://ramsay.xyz/2018/10/13/elasticsearch-400-error-when-upgrading-fluent-winston-log-message-format.html</guid>
        
        <category>elasticsearch</category>
        
        <category>caddyserver</category>
        
        <category>node</category>
        
        <category>js</category>
        
        <category>fluentd</category>
        
        
      </item>
    
      <item>
        <title>Cheap VPS Hot Tip</title>
        <description>&lt;p&gt;While &lt;a href=&quot;https://lowendbox.com/&quot;&gt;&lt;/a&gt; has lots of great deals, especially if you are willing and able to pay up front (ie: $39 per year for 4cpu + 6GB RAM &lt;a href=&quot;https://lowendbox.com/blog/sparkvps-4-offers-pure-ssd-vps-from-1-95-month-in-dallas-new-york/&quot;&gt;src&lt;/a&gt; compared to $5 per month for 1cpu + 1GB of RAM with &lt;a href=&quot;https://www.digitalocean.com/pricing/&quot;&gt;Digital Ocean&lt;/a&gt; )&lt;/p&gt;

&lt;p&gt;It should be noted that these cheaper hosts usually use OpenVZ vps (as opposed to KVM). Docker will not run in such an environment since it requires 
(&lt;a href=&quot;https://stackoverflow.com/a/29221590&quot;&gt;src&lt;/a&gt; and &lt;a href=&quot;https://stackoverflow.com/a/35951482&quot;&gt;src2&lt;/a&gt;)
Ubuntu will allow you to install docker, but it will fail to start due to:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;“Your Linux kernel version 2.6.32-xxx is not supported for running docker. Please upgrade your kernel to 3.10.0 or newer.”&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Tue, 18 Sep 2018 00:00:00 -0500</pubDate>
        <link>https://ramsay.xyz/2018/09/18/cheap-vps-hot-tip.html</link>
        <guid isPermaLink="true">https://ramsay.xyz/2018/09/18/cheap-vps-hot-tip.html</guid>
        
        <category>vps</category>
        
        <category>docker</category>
        
        
      </item>
    
      <item>
        <title>How to open multi instances of secure shell app in Chrome OS</title>
        <description>&lt;p&gt;Chrome OS is a pretty neat operating system that imposes some interesting restrictions on the user (next to no local storage, mostly webapps, limited chrome apps, software must be installed through the Chrome Web Store). Luckily Google has
developed a &lt;a href=&quot;https://chrome.google.com/webstore/detail/secure-shell-app/pnhechapfaindjhompbnflcldabbghjo?utm_source=chrome-app-launcher-search&quot;&gt;nice ssh
client&lt;/a&gt;
which I have become accustomed to while bumping around my local network.&lt;/p&gt;

&lt;p&gt;But Chrome OS likes to keep one instance of apps running at a time. When a user already has a session open and clicks the
app icon, Chrome takes the user to open session. While this is handy for most apps, most people want to open multiple
sessions.&lt;/p&gt;

&lt;p&gt;Luckily, I discovered (no way the first person, but trying to put this all in one place) a couple of ways to get around
this.&lt;/p&gt;

&lt;p&gt;open new tab type “ssh” in navbar + tab + enter new instance of chrome “secure shell app”&lt;/p&gt;

&lt;p&gt;OR&lt;/p&gt;

&lt;p&gt;duplicate an existing ssh tab&lt;/p&gt;

&lt;p&gt;OR&lt;/p&gt;

&lt;p&gt;paste “chrome-extension://pnhechapfaindjhompbnflcldabbghjo/html/nassh.html” into a new tab&lt;/p&gt;

</description>
        <pubDate>Mon, 09 Jul 2018 00:00:00 -0500</pubDate>
        <link>https://ramsay.xyz/2018/07/09/multi-chromeos-terminal-windows.html</link>
        <guid isPermaLink="true">https://ramsay.xyz/2018/07/09/multi-chromeos-terminal-windows.html</guid>
        
        <category>Chrome OS</category>
        
        <category>ssh</category>
        
        <category>secure shell app</category>
        
        
      </item>
    
      <item>
        <title>How I set up real-time Caddy log monitoring using GoAccess, all within docker-compose</title>
        <description>&lt;p&gt;After running &lt;a href=&quot;https://goaccess.io/&quot;&gt;goaccess&lt;/a&gt; through a cron job to generate the report every 15mins, I decided it was time to live in future and take advantage of goaccess realtime log processing. Since I prefer to reduce the number of install steps + configuration tasks, I went with adding goaccess to my &lt;a href=&quot;https://docs.docker.com/compose/overview/&quot;&gt;docker compose&lt;/a&gt; config.&lt;/p&gt;

&lt;h2 id=&quot;code&quot;&gt;Code&lt;/h2&gt;

&lt;p&gt;Using this &lt;a href=&quot;https://github.com/ammobinDOTca/ammobin-compose/blob/master/goaccess/data/goaccess.conf&quot;&gt;goaccess config&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;log-format COMBINED
addr 0.0.0.0
origin https://stats.ammobin.ca
exclude-ip 172.16.0.0-172.31.255.255 #docker ips
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With the following &lt;a href=&quot;https://github.com/ammobinDOTca/ammobin-compose/blob/master/Caddyfile&quot;&gt;caddy snippet&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;...

stats.ammobin.ca {
  tls some@email.com
  root  /www/goaccess
  gzip
  push
  basicauth / USER PASSWORD
  log
}

stats.ammobin.ca:7890 {
 log
 tls some@email.com
 proxy / goaccess:7890 {
   websocket
 }
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;connected the 2 using this &lt;a href=&quot;https://github.com/ammobinDOTca/ammobin-compose/blob/master/docker-compose.yml&quot;&gt;docker-compose&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;3'&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;services&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;caddy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;abiosoft/caddy&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./.caddy:/root/.caddy&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./Caddyfile:/etc/Caddyfile&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./caddy-logs:/var/log/caddy&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./goaccess/html:/www/goaccess&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./caddy-srv/:/srv&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;80:80&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;443:443&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;7890:7890&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;--agree --conf  &quot;/etc/Caddyfile&quot;&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;goaccess&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;allinurl/goaccess&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./goaccess/data:/srv/data&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./goaccess/html:/srv/report&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./caddy-logs:/srv/logs&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;entrypoint&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;goaccess --no-global-config --config-file=/srv/data/goaccess.conf --ws-url=wss://stats.ammobin.ca --output=/srv/report/index.html --log-file=/srv/logs/ammobin.log --real-time-html&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;now-real-time-log-reporting-is-enabled&quot;&gt;now real time log reporting is enabled…&lt;/h1&gt;
</description>
        <pubDate>Tue, 29 May 2018 00:00:00 -0500</pubDate>
        <link>https://ramsay.xyz/2018/05/29/realtime-goaccess-caddy-server-docker.html</link>
        <guid isPermaLink="true">https://ramsay.xyz/2018/05/29/realtime-goaccess-caddy-server-docker.html</guid>
        
        <category>docker</category>
        
        <category>Caddy server</category>
        
        <category>GoAccess real-time</category>
        
        <category>docker-compose</category>
        
        
      </item>
    
      <item>
        <title>Correction Of Error (COE) for ammobin.ca downtime</title>
        <description>&lt;h1 id=&quot;correction-of-error-coe-for-ammobinca-downtime&quot;&gt;Correction Of Error (COE) for ammobin.ca downtime&lt;/h1&gt;
&lt;p&gt;site was down for most of friday&lt;/p&gt;

&lt;h2 id=&quot;cause-droplet-disconnects-from-public-ip&quot;&gt;Cause: droplet disconnects from public ip&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;not able to ssh or ping&lt;/li&gt;
  &lt;li&gt;going through digital ocean console, able to access terminal, no ethX visible at all, even after many restarts&lt;/li&gt;
  &lt;li&gt;reach out to support at 9am pst. receive response 5pm pst. did not fix issue&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;fix-created-new-droplet&quot;&gt;Fix: created new droplet&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;git clone ammobin-compose&lt;/li&gt;
  &lt;li&gt;filled out secrets (.env file)&lt;/li&gt;
  &lt;li&gt;docker-compose up -d&lt;/li&gt;
  &lt;li&gt;switch over dns record
new droplet starts getting traffic immediately&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;lessons-learned&quot;&gt;Lessons Learned:&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;ability to quickly spin up fresh machine is easy with docker compose (able to bring site back with 10mins of work)&lt;/li&gt;
  &lt;li&gt;external + automated backups are a good thing (lost dashboards + stats + cron jobs)&lt;/li&gt;
  &lt;li&gt;dont wait around on support people to fix things if able to just recreate&lt;/li&gt;
  &lt;li&gt;some cloud init scripts to set up machine for me (oh-my-zsh, docker, docker-compose) would be nice&lt;/li&gt;
  &lt;li&gt;publicly exposed status page at &lt;a href=&quot;https://status.ammobin.ca&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;note: COE is an amazon thing that is well described here: &lt;a href=&quot;https://blog.mischel.com/2018/01/24/responding-to-errors-at-amazon/&quot;&gt;&lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Fri, 25 May 2018 00:00:00 -0500</pubDate>
        <link>https://ramsay.xyz/2018/05/25/ammobin-coe.html</link>
        <guid isPermaLink="true">https://ramsay.xyz/2018/05/25/ammobin-coe.html</guid>
        
        <category>COE</category>
        
        <category>correction of error</category>
        
        <category>downtime</category>
        
        <category>ammobin.ca</category>
        
        
      </item>
    
      <item>
        <title>How to (kinda) install pihole on a pine64-jessie using docker</title>
        <description>&lt;p&gt;More of half thoughts and documentation of what I did to get pihole running in docker on my pine64 at home. This is not intended to be a complete or through guide. Please google or duckduckgo for the full process of setting this up. Note: as of May 5, 2018, the docker image does not have dns logging enabled and I have been unable to turn it on manually.&lt;/p&gt;

&lt;h1 id=&quot;some-defs&quot;&gt;some defs&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.pine64.org/?product=pine-a64-lts&quot;&gt;Pine64&lt;/a&gt;: “The Pine A64 is an index card sized 64-bit single board computer. It can perform like your desktop or portable PC with browsing the Internet, playing games, watching video, and execute programs like spreadsheets and word-processing. The Pine A64 board can also play ultra high definition 4Kx2K video.”&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.docker.com/&quot;&gt;Docker&lt;/a&gt;: “Docker provides a way to run applications securely isolated in a container, packaged with all its dependencies and libraries.”&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://pi-hole.net/&quot;&gt;pihole&lt;/a&gt;: “A black hole for Internet advertisements”&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;install-docker&quot;&gt;install docker&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;add some pre-reqs
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  apt-transport-https &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  ca-certificates &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  curl &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  gnupg2 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  software-properties-common
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;add docker signing key &lt;code class=&quot;highlighter-rouge&quot;&gt;curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -&lt;/code&gt;  (&lt;a href=&quot;https://docs.docker.com/install/linux/docker-ce/debian/#set-up-the-repository&quot;&gt;src&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;add &lt;em&gt;deb https://download.docker.com/linux/debian jessie stable&lt;/em&gt; to &lt;em&gt;/etc/apt/sources.list.d/docker.list&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;actually install docker &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo apt-get update &amp;amp;&amp;amp; sudo apt-get install docker-ce&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;pull-image--run&quot;&gt;pull image + run&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;create some configs&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;create docker service to run in background with name = pihole and configs located in current directory
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nv&quot;&gt;IP_LOOKUP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;ip route get 8.8.8.8 | &lt;span class=&quot;nb&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'{ print $NF; exit }'&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# May not work for VPN / tun0&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;IP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;IP&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:-&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$IP_LOOKUP&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# use $IP, if set, otherwise IP_LOOKUP&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;DOCKER_CONFIGS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;pwd&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# Default of directory you run this from, update to where ever.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  docker run &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;--name&lt;/span&gt; pihole &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; 53:53/tcp &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; 53:53/udp &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; 80:80 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;DOCKER_CONFIGS&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/pihole/:/etc/pihole/&quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;DOCKER_CONFIGS&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/dnsmasq.d/:/etc/dnsmasq.d/&quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;ServerIP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;IP&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:-$(&lt;/span&gt;ip route get 8.8.8.8 | &lt;span class=&quot;nb&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'{ print $NF; exit }'&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;--restart&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;always &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 diginc/pi-hole-multiarch:debian_aarch64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;note: must use &lt;strong&gt;diginc/pi-hole-multiarch:debian_aarch64&lt;/strong&gt;, other ones will not run on the pine64&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;to have pihole start on boot, run &lt;code class=&quot;highlighter-rouge&quot;&gt;crontab -e&lt;/code&gt; and add the line &lt;em&gt;@reboot docker start pihole&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Sat, 05 May 2018 00:00:00 -0500</pubDate>
        <link>https://ramsay.xyz/2018/05/05/pihole-pine64-docker.html</link>
        <guid isPermaLink="true">https://ramsay.xyz/2018/05/05/pihole-pine64-docker.html</guid>
        
        <category>pihole</category>
        
        <category>pine64</category>
        
        <category>docker</category>
        
        <category>add blockers</category>
        
        
      </item>
    
      <item>
        <title>How to enable syntax highlighting in VSCode for Mason files</title>
        <description>&lt;p&gt;By default &lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;VSCode&lt;/a&gt; does not detect that &lt;a href=&quot;http://www.masonhq.com/&quot;&gt;Mason&lt;/a&gt; files are perl files. Adding the following to your user preferences will do a pretty good job of adding some colour to your Mason development:&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;files.associations&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;*.mas&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;autohandler&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;perl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;*.mi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;perl&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</description>
        <pubDate>Sat, 14 Apr 2018 00:00:00 -0500</pubDate>
        <link>https://ramsay.xyz/2018/04/14/vscode-mason-syntax-highlighting.html</link>
        <guid isPermaLink="true">https://ramsay.xyz/2018/04/14/vscode-mason-syntax-highlighting.html</guid>
        
        <category>mason</category>
        
        <category>perl</category>
        
        <category>vscode</category>
        
        
      </item>
    
      <item>
        <title>Redesigned ramsay.xyz</title>
        <description>&lt;p&gt;Gave ramsay.xyz a little css refresh. Moved from generic dev blog jekyll template to &lt;a href=&quot;http://brutalistwebsites.com/&quot;&gt;web brutalism&lt;/a&gt; (based on &lt;a href=&quot;https://en.wikipedia.org/wiki/Brutalist_architecture&quot;&gt;brutalist architecture&lt;/a&gt;).&lt;/p&gt;

&lt;h3 id=&quot;before&quot;&gt;Before:&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/assets/before-main.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/before-article.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;after&quot;&gt;After:&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/assets/after-main.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/after-article.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sat, 14 Apr 2018 00:00:00 -0500</pubDate>
        <link>https://ramsay.xyz/2018/04/14/redesigned-ramsay.xyz.html</link>
        <guid isPermaLink="true">https://ramsay.xyz/2018/04/14/redesigned-ramsay.xyz.html</guid>
        
        <category>ramsay.xyz</category>
        
        <category>redesign</category>
        
        <category>brutalism</category>
        
        
      </item>
    
  </channel>
</rss>
